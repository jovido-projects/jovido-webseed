<html xmlns:th="//www.thymeleaf.org" th:remove="tag">

<th:block th:replace="fragment/field-container(input=~{::foobar},buttons=~{::buttons})">

    <th:block th:fragment="foobar">
        <input type="text" class="form-control"
               th:value="${attribute?.getValue(index)?.payload?.get(locale)?.filename}"  readonly="readonly">
        <input type="hidden"
               th:name="${field.name}"
               th:value="${attribute?.getValue(index)?.payload?.get(locale)?.id}">
    </th:block>

    <th:block th:fragment="buttons" >
        <span class="btn btn-default btn-file" formmethod="post"
                th:disabled="${attribute?.value?.id == null}">
            <i class="fa fa-upload"></i>
            <input type="file" th:name="__${field.name}__.file">
        </span>
        <button class="btn btn-default" formmethod="post"
                th:disabled="${fragment.id == null}">
            <i class="glyphicon glyphicon-trash"></i>
            <span></span>
        </button>
        <!--<button class="btn btn-default" th:disabled="${fragment.id == null}">-->
            <!--<i class="glyphicon glyphicon-search"></i>-->
            <!--<span></span>-->
        <!--</button>-->
    </th:block>

</th:block>


</html>