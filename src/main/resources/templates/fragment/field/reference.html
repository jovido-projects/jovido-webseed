<html xmlns:th="//www.thymeleaf.org" th:remove="tag">

<th:block th:replace="fragment/field-container(input=~{::foobar},buttons=~{::buttons})">

    <th:block th:fragment="foobar">
        <input type="text" class="form-control"
               th:value="${attribute?.getValue(index)?.payload?.name}"  readonly="readonly">
        <input type="hidden"
               th:name="${field.name}"
               th:value="${attribute?.getValue(index)?.payload?.id}">
    </th:block>

    <th:block th:fragment="buttons" >
        <button class="btn btn-default" formmethod="post"
                th:disabled="${attribute?.value?.id == null}"
                th:formaction="@{/fragments/edit(
                id=${attribute?.value?.payload?.id},
                refvalue=${attribute?.value?.id})}">
            <i class="glyphicon glyphicon-edit"></i>
            <span></span>
        </button>
        <button class="btn btn-default" formmethod="post"
                th:disabled="${fragment.id == null}"
                th:formaction="@{/fragments/create(
                structure=${field.constraint?.structure?.name},
                refvalue=${attribute?.value?.id})}">
            <i class="glyphicon glyphicon-plus"></i>
            <span></span>
        </button>
        <button class="btn btn-default" th:disabled="${fragment.id == null}">
            <i class="glyphicon glyphicon-search"></i>
            <span></span>
        </button>
    </th:block>

</th:block>



</html>