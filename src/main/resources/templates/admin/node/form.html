<html xmlns:th="//www.thymeleaf.org" xmlns:field="http://localhost"
      th:replace="/admin/page(body=~{::body})"
      th:remove="tag">
<div th:fragment="body" class="container">


<form th:object="${fragmentForm}" method="post">

    <div class="row">
        <div class="col-md-8">
            <th:block th:each="attribute : ${@fragmentService.getAttributes(fragmentForm?.fragment?.getClass())}">
                <!--<th:block th:replace="${@nodeService.getTemplate(field)}" />-->
                <th:block field:replace="*{fragment.__${attribute.name}__}" />
            </th:block>
        </div>
        <div class="col-md-4">
            <input type="hidden" th:field="*{fragment.class.name}">
            <!--<input type="hidden" th:field="*{fragment.id}">-->
            <div class="form-group">
                <input class="form-control" type="text" th:field="*{fragment.id}" readonly>
            </div>


            <div class="card card-outline-danger" th:if="${#fields.hasAnyErrors()}">
                <div class="card-block">
                    <h4 class="card-title">
                        <span>Errors</span>
                    </h4>
                    <p class="card-text">Lorem ipsum.</p>
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item list-group-item-danger" th:each="e : ${#fields.detailedErrors()}">
                        <th:block th:if="${!e.global}">
                            <span th:text="#{${e.fieldName}}">The field name</span>
                        </th:block>

                        <span th:text="${e.message}">The error message</span>
                    </li>
                </ul>
            </div>


        </div>
    </div>


    <button class="btn btn-primary" th:formaction="@{save}">Save</button>
</form>

</div>
</html>